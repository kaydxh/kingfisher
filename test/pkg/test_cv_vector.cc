#include <gtest/gtest.h>

#include "cv/vector/vector.hpp"
#include "log/config.h"

using namespace kingfisher;
using namespace kingfisher::cv;

//./bin/kingfisher_base_test --gtest_filter=test_Vector.*
//./bin/kingfisher_base_test --gtest_filter=test_Vector.All
class test_Vector : public testing::Test {
 public:
  test_Vector() {}
  ~test_Vector() {}

  virtual void SetUp(void) {}

  virtual void TearDown(void) {}
};

TEST_F(test_Vector, All) {
  std::vector<float> v = {
      0.017502,     0.0523077,    0.0673836,    0.0225833,   -0.0439458,
      0.0872812,    -0.0133897,   0.0289157,    0.0433049,   0.0486456,
      -0.0436101,   0.0167086,    5.23931e-05,  0.064759,    -0.0501104,
      -0.0155184,   0.0261081,    -0.0207827,   -0.0135423,  -0.0305027,
      -0.00518042,  0.059693,     0.0575568,    -0.0429082,  0.0137178,
      0.00664146,   0.0662239,    -0.0140688,   0.0066262,   -0.0363163,
      -0.0207674,   0.022568,     -0.0538946,   -0.00212672, -0.0193789,
      -0.0243228,   0.0234225,    0.0379338,    0.0212557,   -0.00993358,
      -0.0419316,   -0.0717171,   -0.0406193,   -0.0273135,  0.00512701,
      0.0500189,    0.0209048,    -0.0337528,   0.0233462,   0.0255435,
      0.0613105,    -0.0412297,   -0.0246432,   0.0621955,   0.0283359,
      -0.041718,    -0.0497442,   0.0401921,    -0.0225985,  -0.0207522,
      -0.0615241,   -0.0304416,   0.0127031,    -0.0612495,  -0.0471807,
      0.0134279,    0.0022011,    0.071595,     0.00868998,  -0.0689095,
      0.0509039,    -0.00512701,  -0.0428166,   0.000494009, -0.0191195,
      0.00357441,   -0.00828561,  -0.0184939,   0.0159761,   -0.0175478,
      0.0302433,    0.023041,     -0.0476079,   -0.080079,   0.0337528,
      0.00326732,   0.0182497,    -0.0364079,   -0.0172426,  0.0340885,
      0.0107499,    -0.022629,    -0.103578,    0.0146791,   -0.086854,
      -0.0198672,   0.0272067,    -0.0449529,   0.0427251,   -0.0204775,
      -0.0396428,   0.045075,     0.0240634,    0.0158083,   0.0335087,
      -0.00576407,  -0.0700691,   0.00931559,   -0.0911265,  -0.0463872,
      -0.0394597,   0.0232089,    -0.115785,    0.0218813,   -0.0137254,
      -0.0258945,   0.0616157,    0.0213168,    0.052033,    0.00218012,
      0.0736702,    0.00502783,   0.0317997,    -0.0482488,  0.0657356,
      -0.000899802, -0.0509954,   0.0283511,    -0.0240023,  -0.0498968,
      -0.0073243,   0.0306552,    0.0567633,    0.0121843,   0.0269168,
      -0.035706,    0.0271609,    0.0399785,    0.0192873,   0.00159933,
      0.0155489,    0.0827646,    0.0166017,    0.0638435,   0.0230563,
      -0.00563437,  0.0758675,    0.0319828,    0.0864878,   -0.000132562,
      -0.0428472,   0.0169374,    0.0225222,    -0.0472723,  0.031525,
      -0.0321964,   0.0389409,    -0.0632331,   0.0111696,   0.018677,
      0.0503851,    -0.0859384,   -0.0574347,   -0.00306514, -0.046021,
      -0.0327152,   0.0222781,    0.0248874,    -0.039185,   0.0249484,
      0.00383191,   -0.00638206,  0.0405888,    0.0320133,   -0.0168459,
      0.00553137,   0.0803842,    0.0444036,    0.00706871,  0.0231021,
      0.0190737,    -0.00756463,  -0.0398564,   -0.0137636,  0.0023556,
      -0.0404973,   0.0184633,    -0.0433049,   0.0163881,   0.0416875,
      -0.0594489,   0.0355534,    -0.0668342,   -0.0261081,  0.00602347,
      -0.0216525,   -0.0678108,   -0.000505453, -0.0210421,  -0.0213778,
      -0.0201418,   -0.00452428,  0.0774545,    0.0450444,   -0.0141832,
      -0.0984508,   -0.0520636,   0.0583197,    -0.107423,   -0.0927134,
      0.043366,     0.0472417,    0.00355534,   0.0404973,   0.0130922,
      -0.0557867,   -0.0856943,   -0.0595405,   0.0188906,   -0.0466924,
      0.00233271,   -0.0571295,   -0.0561835,   0.00259974,  -0.0041924,
      0.062104,     0.0220492,    0.041718,     0.0472112,   0.0555731,
      -0.0253756,   0.00300601,   0.0196841,    -0.0560919,  0.00820169,
      -0.051972,    0.0605781,    -0.0421758,   -0.0173647,  -0.0618598,
      0.00698097,   0.017502,     0.0781869,    -0.0376591,  0.0849008,
      -0.00883494,  0.0354313,    -0.0814828,   -0.0159456,  0.00118829,
      0.0617377,    0.013817,     0.0607001,    -0.0231631,  0.000361685,
      0.0162508,    0.0379338,    -0.0580451,   -0.00798043, 0.100099,
      0.0128023,    0.0401616,    0.0147783,    0.0376896,   0.0140764,
      -0.00378422,  -0.0737923,   0.0239566,    0.060395,    -0.0528265,
      0.0147096,    -0.0599982,   0.0384221,    0.0424504,   0.0112077,
      -0.0356754,   -0.0639045,   -0.00350002,  0.0161592,   0.0189516,
      -0.0389714,   -0.012581,    0.0184481,    -0.0308536,  0.045197,
      -0.059632,    -0.00232318,  -0.0104066,   -0.0328373,  0.0170595,
      0.00558478,   0.05362,      -0.0504766,   0.00599296,  0.0089799,
      -0.0191958,   -0.0396733,   -0.0284427,   -0.0762948,  -0.0557867,
      0.0238955,    -0.0108796,   0.105958,     -0.00460821, -0.00908671,
      -0.0372624,   -0.0666511,   0.040833,     0.00334171,  0.00934611,
      -0.00453954,  -0.025635,    -0.0836191,   -0.0129167,  0.0574958,
      0.0485845,    0.0448003,    0.00946818,   0.119752,    -0.00939189,
      -0.0129625,   -0.0934459,   -0.0479131,   -0.0509649,  -0.0160829,
      -0.0600593,   0.0288242,    0.0625007,    0.0845346,   0.0381474,
      0.0494695,    0.0401921,    -0.0552679,   0.00685509,  -0.0169832,
      0.044373,     -0.016556,    -0.0381779,   0.0377812,   0.0162813,
      0.00648506,   0.0683601,    -0.00236514,  0.028519,    0.0927134,
      0.0739754,    -0.00670631,  0.0429692,    -0.0528265,  -0.00218966,
      0.0314335,    0.020096,     0.00516134,   -0.0207217,  -0.0656746,
      0.045197,     0.0808114,    0.0511785,    -0.0281375,  0.0574958,
      -0.0473943,   -0.000883112, -0.0843515,   -0.0106736,  -0.0286716,
      -0.00441747,  -0.0457158,   0.0462652,    -0.0452581,  -0.0222628,
      -0.0011902,   0.0441899,    0.0218966,    -0.00846872, -0.0598151,
      -0.00832376,  -0.00634773,  -0.013405,    -0.0215914,  0.00790414,
      0.0423283,    0.0413518,    0.0819101,    -0.0604865,  -0.0772103,
      -0.0474554,   -0.0309299,   0.0353703,    0.00221446,  -0.0389714,
      -0.0273746,   0.0313419,    -0.0345463,   -0.0788583,  -0.102601,
      0.00807199,   -0.108766,    0.0301975,    0.0104142,   -0.0249637,
      0.101442,     0.0155641,    0.0451055,    0.0236209,   0.0433354,
      0.0584723,    -0.00311473,  0.0538946,    0.0146486,   -0.0575568,
      0.0022526,    0.0306095,    0.00779351,   0.00593573,  0.0291751,
      -0.00198557,  0.0295413,    -0.0675667,   0.0382389,   0.04007,
      0.0310215,    -0.0668953,   0.00816354,   0.0326542,   -0.0144579,
      0.00470357,   0.011345,     0.000371699,  -0.0216219,  -0.0518805,
      -0.0141832,   -0.0362858,   0.0158388,    0.0298313,   -0.0526129,
      0.00724419,   0.0300144,    -0.0292819,   0.022507,    0.0281986,
      0.00382618,   -0.0277713,   0.0596015,    -0.0113756,  0.0117494,
      -0.00440221,  0.0109941,    -0.00255015,  -0.0275272,  0.0728768,
      0.0955821,    -0.0996105,   -0.0743416,   -0.0297855,  -0.0234683,
      -0.0186922,   -0.0164186,   0.0361027,    -0.0338138,  0.06305,
      0.0602729,    0.000938426,  0.0172579,    0.0349735,   0.106263,
      -0.0219119,   -0.0709236,   0.0112001,    -0.109193,   0.06305,
      -0.00265506,  0.0451665,    -0.0125352,   0.0480047,   0.0439458,
      -0.0223391,   0.0368046,    -0.0684212,   -0.0183413,  -0.0425115,
      0.111024,     0.041657,     0.0484624,    0.0550238,   -0.0154421,
      0.03241,      0.0112153,    0.0122377,    -0.0842294,  -0.0545966,
      -0.0198061,   -0.0344852,   0.0253604,    0.0864878,   -0.0217593,
      -0.152101,    0.0233615,    -0.00272182,  0.0932017,   -0.0578314,
      -0.00804147,  -0.0401616,   -0.0426335,   0.0628059,   -0.0237124,
      -0.00447087,  -0.0626838,   -0.052796,    -0.00238612, -0.0515448,
      -0.0611274,   -0.0354008};

  Vector<float> vtor(v);
  int dim = vtor.Dims();
  LOG(INFO) << "vector dims: " << dim;
  vtor.Norm();
  vtor.Print();

  // EXPECT_EQ(ret, 0);
}
